<%- assert_locals api -%>
# frozen_string_literal: true

<%= render partial: "shared/license" %>

# Auto-generated by gapic-generator-ruby v<%= Google::Gapic::Generator::VERSION %> on <%= Time.now.strftime "%Y-%m-%d" %>.


require "minitest/autorun"
require "minitest/spec"

require "google/cloud/speech"

describe "SpeechSmokeTest v1" do
  it "runs one smoke test with recognize" do
    speech_client = Google::Cloud::Speech.new version: :v1
    language_code = "en-US"
    sample_rate_hertz = 44100
    encoding = :FLAC
    config = {
      language_code: language_code,
      sample_rate_hertz: sample_rate_hertz,
      encoding: encoding
    }
    uri = "gs://gapic-toolkit/hello.flac"
    audio = { uri: uri }
    speech_client.recognize config, audio
  end
end
